<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Real-time Input Blocking Test - Child Registration Form</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .demo-container {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .demo-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.95);
        }
        .blocked-input {
            animation: shake 0.3s ease-in-out;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .live-demo {
            border: 2px dashed #3b82f6;
            background: #eff6ff;
        }
    </style>
</head>
<body class="demo-container">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- Header -->
            <div class="demo-card rounded-xl shadow-2xl p-8 mb-8">
                <h1 class="text-4xl font-bold text-gray-800 mb-4 text-center">
                    🚫 Real-time Input Blocking Test
                </h1>
                <h2 class="text-xl text-gray-600 text-center mb-6">
                    Child Registration Form - Live Validation Demo
                </h2>
                
                <div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6">
                    <h3 class="font-semibold text-green-800 mb-2">✅ Enhanced Features:</h3>
                    <ul class="text-green-700 space-y-1">
                        <li>• <strong>Real-time Number Blocking:</strong> Numbers are blocked as you type in name fields</li>
                        <li>• <strong>Phone-only Input:</strong> Only numbers allowed in phone field</li>
                        <li>• <strong>Instant Feedback:</strong> Visual indication when invalid input is attempted</li>
                        <li>• <strong>Character Limiting:</strong> Automatic enforcement of input constraints</li>
                    </ul>
                </div>
            </div>

            <!-- Live Demo Section -->
            <div class="demo-card rounded-xl shadow-2xl p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">🎯 Live Demo - Try It Now!</h3>
                
                <div class="live-demo rounded-lg p-6 mb-6">
                    <h4 class="text-lg font-semibold text-blue-800 mb-4">Try typing numbers in the name fields below:</h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Child Name Field -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Child Name * (First Name and Last Name)
                            </label>
                            <div class="relative">
                                <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">👶</span>
                                <input
                                    type="text"
                                    id="childName"
                                    class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                                    placeholder="Try typing: Arjun123 Kumar"
                                    onkeypress="handleNameKeyPress(event)"
                                    oninput="handleNameInput(event)"
                                />
                            </div>
                            <p class="text-xs text-gray-500 mt-1">
                                ℹ️ Try typing numbers - they will be blocked!
                            </p>
                            <div id="childNameFeedback" class="mt-2 text-sm hidden"></div>
                        </div>

                        <!-- Parent Name Field -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Parent/Guardian Name * (letters only)
                            </label>
                            <div class="relative">
                                <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">👤</span>
                                <input
                                    type="text"
                                    id="parentName"
                                    class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                                    placeholder="Try typing: Priya@123 Nair"
                                    onkeypress="handleNameKeyPress(event)"
                                    oninput="handleNameInput(event)"
                                />
                            </div>
                            <p class="text-xs text-gray-500 mt-1">
                                ℹ️ Numbers and special characters are blocked!
                            </p>
                            <div id="parentNameFeedback" class="mt-2 text-sm hidden"></div>
                        </div>

                        <!-- Phone Number Field -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Phone Number * (10 digits)
                            </label>
                            <div class="relative">
                                <span class="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400">📱</span>
                                <input
                                    type="tel"
                                    id="phoneNumber"
                                    class="w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"
                                    placeholder="Try typing: 98abc76543"
                                    onkeypress="handlePhoneKeyPress(event)"
                                    oninput="handlePhoneInput(event)"
                                    maxlength="10"
                                />
                            </div>
                            <p class="text-xs text-gray-500 mt-1">
                                ℹ️ Only numbers allowed, max 10 digits!
                            </p>
                            <div id="phoneNumberFeedback" class="mt-2 text-sm hidden"></div>
                        </div>

                        <!-- Live Status Display -->
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                            <h5 class="font-semibold text-gray-800 mb-2">📊 Live Input Status:</h5>
                            <div id="inputStatus" class="space-y-2">
                                <div class="text-sm text-gray-600">Start typing to see real-time validation...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Test Results Section -->
            <div class="demo-card rounded-xl shadow-2xl p-8 mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">🧪 Validation Test Results</h3>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <!-- Blocked Characters -->
                    <div class="bg-red-50 border border-red-200 rounded-lg p-4">
                        <h4 class="font-semibold text-red-800 mb-3">🚫 Blocked in Name Fields:</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex items-center gap-2">
                                <span class="text-red-600">✗</span>
                                <span>Numbers: 0-9</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-red-600">✗</span>
                                <span>Special chars: @#$%</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-red-600">✗</span>
                                <span>Symbols: !&*()[]</span>
                            </div>
                        </div>
                    </div>

                    <!-- Allowed Characters -->
                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <h4 class="font-semibold text-green-800 mb-3">✅ Allowed in Name Fields:</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex items-center gap-2">
                                <span class="text-green-600">✓</span>
                                <span>Letters: A-Z, a-z</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-green-600">✓</span>
                                <span>Spaces</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-green-600">✓</span>
                                <span>Example: "Arjun Kumar"</span>
                            </div>
                        </div>
                    </div>

                    <!-- Phone Validation -->
                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h4 class="font-semibold text-blue-800 mb-3">📱 Phone Field Rules:</h4>
                        <div class="space-y-2 text-sm">
                            <div class="flex items-center gap-2">
                                <span class="text-blue-600">✓</span>
                                <span>Only digits: 0-9</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-blue-600">✓</span>
                                <span>Max 10 characters</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-blue-600">✓</span>
                                <span>Example: "9876543210"</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Implementation Details -->
            <div class="demo-card rounded-xl shadow-2xl p-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-6">⚙️ Implementation Details</h3>
                
                <div class="space-y-6">
                    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4">
                        <h4 class="font-semibold text-gray-800 mb-2">🔧 Real-time Input Blocking Methods:</h4>
                        <div class="space-y-2 text-sm text-gray-700">
                            <div><strong>1. onChange Handler:</strong> Validates input value and blocks invalid characters</div>
                            <div><strong>2. onKeyPress Handler:</strong> Prevents invalid keys from being processed</div>
                            <div><strong>3. Regex Validation:</strong> Pattern matching for allowed characters</div>
                            <div><strong>4. maxLength Attribute:</strong> Hardware-level character limiting</div>
                        </div>
                    </div>

                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                        <h4 class="font-semibold text-blue-800 mb-2">📋 Code Implementation:</h4>
                        <div class="text-sm text-blue-800 font-mono bg-white p-3 rounded border">
                            <div>// Name field validation</div>
                            <div>if (name === 'name' || name === 'parentName') {</div>
                            <div>&nbsp;&nbsp;if (/[0-9]/.test(value)) return;</div>
                            <div>}</div>
                            <div class="mt-2">// KeyPress blocking</div>
                            <div>if (/[0-9]/.test(e.key)) e.preventDefault();</div>
                        </div>
                    </div>

                    <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                        <h4 class="font-semibold text-green-800 mb-2">✅ Benefits:</h4>
                        <ul class="text-sm text-green-700 space-y-1">
                            <li>• <strong>Immediate Feedback:</strong> Users instantly know when input is invalid</li>
                            <li>• <strong>Error Prevention:</strong> Stops invalid data before submission</li>
                            <li>• <strong>Better UX:</strong> Smooth, responsive validation experience</li>
                            <li>• <strong>Data Quality:</strong> Ensures clean, consistent data entry</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center mt-8 text-white">
                <p class="text-lg font-medium">Real-time Input Validation - Active! 🚀</p>
                <p class="text-sm opacity-80 mt-2">Enhanced Child Registration Form - Production Ready</p>
            </div>
        </div>
    </div>

    <script>
        // Real-time blocking functions (same as React component)
        function handleNameKeyPress(e) {
            // Block numbers (0-9) from being typed
            if (/[0-9]/.test(e.key)) {
                e.preventDefault();
                showBlockedFeedback(e.target, 'Numbers are not allowed in name fields!');
            }
        }

        function handlePhoneKeyPress(e) {
            // Allow only numbers, backspace, delete, and navigation keys
            if (!/[0-9]/.test(e.key) && !['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab'].includes(e.key)) {
                e.preventDefault();
                showBlockedFeedback(e.target, 'Only numbers are allowed in phone field!');
            }
        }

        function handleNameInput(e) {
            const value = e.target.value;
            const fieldId = e.target.id;
            
            // Block numbers in onChange as well
            if (/[0-9]/.test(value)) {
                e.target.value = value.replace(/[0-9]/g, '');
                showBlockedFeedback(e.target, 'Numbers automatically removed!');
            }
            
            updateInputStatus(fieldId, e.target.value);
        }

        function handlePhoneInput(e) {
            const value = e.target.value;
            const fieldId = e.target.id;
            
            // Block non-numeric input
            if (!/^[0-9]*$/.test(value)) {
                e.target.value = value.replace(/[^0-9]/g, '');
                showBlockedFeedback(e.target, 'Non-numeric characters removed!');
            }
            
            updateInputStatus(fieldId, e.target.value);
        }

        function showBlockedFeedback(element, message) {
            // Add shake animation
            element.classList.add('blocked-input');
            setTimeout(() => element.classList.remove('blocked-input'), 300);
            
            // Show feedback message
            const feedbackId = element.id + 'Feedback';
            const feedbackElement = document.getElementById(feedbackId);
            if (feedbackElement) {
                feedbackElement.textContent = message;
                feedbackElement.className = 'mt-2 text-sm text-red-600 font-medium';
                feedbackElement.classList.remove('hidden');
                
                // Hide after 2 seconds
                setTimeout(() => {
                    feedbackElement.classList.add('hidden');
                }, 2000);
            }
        }

        function updateInputStatus(fieldId, value) {
            const statusElement = document.getElementById('inputStatus');
            const fieldName = fieldId.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
            
            let statusHtml = '';
            
            // Child Name Status
            const childName = document.getElementById('childName').value;
            if (childName) {
                const words = childName.trim().split(' ').filter(w => w.length > 0);
                const isValid = words.length === 2 && /^[a-zA-Z\s]+$/.test(childName);
                statusHtml += `<div class="flex items-center gap-2">
                    <span class="${isValid ? 'text-green-600' : 'text-red-600'}">${isValid ? '✓' : '✗'}</span>
                    <span>Child Name: "${childName}" (${words.length} words)</span>
                </div>`;
            }
            
            // Parent Name Status
            const parentName = document.getElementById('parentName').value;
            if (parentName) {
                const isValid = /^[a-zA-Z\s]+$/.test(parentName);
                statusHtml += `<div class="flex items-center gap-2">
                    <span class="${isValid ? 'text-green-600' : 'text-red-600'}">${isValid ? '✓' : '✗'}</span>
                    <span>Parent Name: "${parentName}" ${isValid ? '(valid)' : '(invalid chars)'}</span>
                </div>`;
            }
            
            // Phone Status
            const phone = document.getElementById('phoneNumber').value;
            if (phone) {
                const isValid = /^[0-9]{10}$/.test(phone);
                statusHtml += `<div class="flex items-center gap-2">
                    <span class="${isValid ? 'text-green-600' : 'text-yellow-600'}">${isValid ? '✓' : '⚠'}</span>
                    <span>Phone: "${phone}" (${phone.length}/10 digits)</span>
                </div>`;
            }
            
            if (!statusHtml) {
                statusHtml = '<div class="text-sm text-gray-600">Start typing to see real-time validation...</div>';
            }
            
            statusElement.innerHTML = statusHtml;
        }

        // Initialize status
        document.addEventListener('DOMContentLoaded', function() {
            updateInputStatus('', '');
        });
    </script>
</body>
</html>